# Бот, сохраняющий данные из чатов (MVP)

Сохранять сообщения из чатов, содержащие определённые слова.

## Особенности

* Для более точного поиска производится нормализация слов из сообщений (приведение к базовой, словарной форме).

* Нужно установить три зависимости: `python-telegram-bot` — для создания бота, `nltk` и `pymorphy` — для нормализации слов.

* Сохраняемые поля:
  
  * username (имя пользователя-отправителя сообщения), 

  * user_id (id отправителя),

  * chat_id (id чата/группы),

  * message (текст сообщения),

  * timestamp (дата и время отправки сообщения, UTC, формат ISO 8601). 

## Использование

* Добавить бота администратором в группах, где необходимо собирать сообщения.

* Отключить [режим приватности](https://core.telegram.org/bots/features#privacy-mode), чтобы бот мог видеть сообщения в группах:
  1. В [BotFather](https://t.me/botfather) отправить команду `/setprivacy`.
  2. Выбрать имя нужного бота.
  3. Нажать "Disable". 
   
    *Примечание*: у бота нет доступа к сообщениям, созданным до его добавления в группы (особенность Телеграма).


* В скрипте `bot.py` добавить токен своего бота.

* Обновить список ключевых слов.

* Создать виртуальное окружение для проекта либо просто установить нужные зависимости (не рекомендуется). Необходимая версия Python: >= 3.8.

* Запустить файл: `python bot.py`.

* Появится файл `tg_data.csv`, куда будут записываться данные о сообщении, содержащем ключевые слова. С этим файлом в дальнейшем можно работать, фильтруя имена и даты.